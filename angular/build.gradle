import uk.gov.hmcts.AngularExec

task test(type: AngularExec) {
  ngCommand 'ng', 'test', '--watch=false'
}

//
//task e2e(type: AngularExec) {
//  ngCommand 'ng', 'e2e'
//  inputs.dir file('e2e')
//  outputs.dir file('build/e2e')
//}

project.mkdir('build/e2e')

task e2e(type:Exec) {
  workingDir rootProject.projectDir
  commandLine 'docker-compose', 'run', '--no-deps', 'frontend', 'ng', 'e2e'
  outputs.dir project.file('build/e2e')
}

println e2e.workingDir
println rootProject.file('angular/build/e2e')

task check(dependsOn: ['test', 'e2e'])

task goat {

}
